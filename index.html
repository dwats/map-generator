<!DOCTYPE html>
<html>
<head>
	<title>Map Gen</title>
	<link rel="stylesheet" type="text/css" href="css/base.css">
	<style>
		#clear {
			float:right;
		}
	</style>
</head>
<body>
	<h1>Map Gen</h1>
	<div>Creating terrain with simple biomes using OpenSimplex noise along with Brownian Motion. Biomes are generated from two additional 2D arrays representing temperature and moisture.</div>
	<!--Inputs/controls-->
	<div id="controls">
		<div>
			<div>Dimensions (<strong>w x h</strong> in pixels)</div>
			<input id="width" value=512> x <input id="height" value=512>
		</div>
		<div>
			<div>Resolution Scale</div>
			<input id="scale" value=1>
		</div>
		<div>
			<div>Frequency</div>
			<input id="frequency" value=2>
		</div>
		<div>
			<div>Seed</div>
			<input id="mapSeed" value=0.08510254169161069>
		</div>
		<div>
			<input id="showBiomes" type="checkbox" checked>Show Biomes
		</div>
		<hr/>
		<button id="gen" onclick="newMap()">Generate</button>
		<span id="cursor-pos"></span>
	</div>
	<!--Canvas-->
	<div id="canvas-shell"></div>
	<!--Script-->
	<script type="text/javascript" src="js/canvas.js"></script>
	<script type="text/javascript" src="js/mapgen.js"></script>
	<script type="text/javascript" src="js/openSimplexJs/openSimplex.js"></script>
	<script type="text/javascript" src="js/three.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
	<script>

		function newMap() {
			setInitValues();
			let settings = {
				height: $("#height").val(),
				width: $("#width").val(),
				frequency: $("#frequency").val(),
				seed: $("#mapSeed").val()
			}
			let terrainGenerator = new TerrainGenerator(settings);
			terrainGenerator.makeMap();
			drawMonoArray(terrainGenerator.map.height);
			updateCanvas();
			console.log(terrainGenerator.map.height);
		}

		window.onload = () => {
			setInitValues();
			newMap();
		}

	</script>
</body>
</html>
